{"version":3,"sources":["components/imageFinder/imageGallery/imageGalleryItem/ImageGalleryItemStyled.js","components/imageFinder/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageFinder/imageGallery/ImageGalleryStyled.js","components/imageFinder/imageGallery/ImageGallery.js","components/imageFinder/searchbar/SearchbarStyled.js","components/imageFinder/searchbar/Searchbar.js","components/imageFinder/modal/ModalStyled.js","components/imageFinder/modal/Modal.js","components/imageFinder/loader/LoaderStyled.js","components/imageFinder/loader/Loader.js","components/imageFinder/ImageFinderStyled.js","services/ImagesApi.js","components/imageFinder/ImageFinder.js","components/App.js","index.js"],"names":["ImageGalleryItemStyled","styled","li","ImageGalleryItem","image","onImageClick","id","tags","webformatURL","largeImageURL","data-id","onClick","src","alt","data-url","data-alt","className","ImageGalleryStyled","ul","ImageGallery","images","map","SearchbarStyled","header","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ModalStyled","div","Modal","imgURL","imgAlt","onHandleClickInModal","LoaderWrapper","Spinner","color","height","width","ImageFinderStyled","fetchImagesWithQuery","searchQuery","page","key","axios","get","then","response","data","hits","ImageFinder","loading","error","largeImageAlt","handleSearchFormSubmit","query","a","window","scrollTo","top","behavior","resetError","prevState","result","loadMore","scrollBy","toggleModal","dataset","url","closeModalByEsc","code","handleClickInModal","nodeName","addEventListener","removeEventListener","dataLength","length","next","hasMore","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b65f6e1d.chunk.js","sourcesContent":["import styled from 'styled-components';\nconst ImageGalleryItemStyled = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n\n  .ImageGalleryItem-image {\n    width: 100%;\n    height: 260px;\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .ImageGalleryItem-image:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n\nexport default ImageGalleryItemStyled;\n","import React from 'react';\nimport ImageGalleryItemStyled from './ImageGalleryItemStyled';\n\nconst ImageGalleryItem = ({ image, onImageClick }) => {\n  const { id, tags, webformatURL, largeImageURL } = image;\n  return (\n    <ImageGalleryItemStyled data-id={id} onClick={onImageClick}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-url={largeImageURL}\n        data-alt={tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </ImageGalleryItemStyled>\n  );\n};\n\nexport default ImageGalleryItem;\n","import styled from 'styled-components';\nconst ImageGalleryStyled = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport default ImageGalleryStyled;\n","import React from 'react';\nimport ImageGalleryItem from './imageGalleryItem/ImageGalleryItem';\nimport ImageGalleryStyled from './ImageGalleryStyled';\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <ImageGalleryStyled>\n      {images.map(image => (\n        <ImageGalleryItem\n          image={image}\n          key={image.id + image.webformatURL}\n          onImageClick={onImageClick}\n        />\n      ))}\n    </ImageGalleryStyled>\n  );\n};\nexport default ImageGallery;\n","import styled from 'styled-components';\nconst SearchbarStyled = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n\n  /*\n * Стили компонента SearchForm\n */\n  .SearchForm {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n\n  .SearchForm-button {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n  }\n\n  .SearchForm-button:hover {\n    opacity: 1;\n  }\n\n  .SearchForm-button-label {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n\n  .SearchForm-input {\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n  }\n\n  .SearchForm-input::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport default SearchbarStyled;\n","import React, { Component } from 'react';\nimport SearchbarStyled from './SearchbarStyled';\n\nclass Searchbar extends Component {\n  state = { inputValue: '' };\n\n  handleChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: '' });\n  };\n  render() {\n    return (\n      <SearchbarStyled className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.handleChange}\n            value={this.state.inputValue}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </SearchbarStyled>\n    );\n  }\n}\n\nexport default Searchbar;\n","import styled from 'styled-components';\nconst ModalStyled = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n\n  .Modal {\n    max-width: calc(100vw - 48px);\n    max-height: calc(100vh - 24px);\n  }\n`;\n\nexport default ModalStyled;\n","import React from 'react';\nimport ModalStyled from './ModalStyled';\n\nconst Modal = ({ imgURL, imgAlt, onHandleClickInModal }) => {\n  return (\n    <ModalStyled onClick={onHandleClickInModal}>\n      <div className=\"Modal\">\n        <img src={imgURL} alt={imgAlt} />\n      </div>\n    </ModalStyled>\n  );\n};\nexport default Modal;\n","import styled from 'styled-components';\nconst LoaderWrapper = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  pointer-events: initial;\n`;\nexport default LoaderWrapper;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport LoaderWrapper from './LoaderStyled';\n\nconst Spinner = () => {\n  return (\n    <LoaderWrapper>\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </LoaderWrapper>\n  );\n};\n\nexport default Spinner;\n","import styled from 'styled-components';\nconst ImageFinderStyled = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\nexport default ImageFinderStyled;\n","import axios from 'axios';\n\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\n  const key = '19509532-9c10a3c2f413abf8ad2252df8';\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12\n`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default fetchImagesWithQuery;\n","import React, { Component } from 'react';\nimport ImageGallery from './imageGallery/ImageGallery';\nimport Searchbar from './searchbar/Searchbar';\n// import Button from './button/Button';\nimport Modal from './modal/Modal';\nimport Spinner from './loader/Loader';\nimport ImageFinderStyled from './ImageFinderStyled';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport fetchImagesWithQuery from '../../services/ImagesApi';\n\nclass ImageFinder extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    largeImageURL: '',\n    largeImageAlt: '',\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModalByEsc);\n    const { searchQuery, page } = this.state;\n\n    fetchImagesWithQuery(searchQuery, page).then(response => {\n      this.setState(prevState => ({\n        ...prevState,\n        images: [...response],\n        page: 2,\n      }));\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModalByEsc);\n  }\n\n  handleSearchFormSubmit = async (query, page = 1) => {\n    try {\n      if (query === '') {\n        return;\n      }\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n      this.resetError();\n      this.setState(prevState => ({ ...prevState, loading: true }));\n      const result = await fetchImagesWithQuery(query, page);\n      this.setState(prevState => ({\n        ...prevState,\n        images: [...result],\n        page: 2,\n        searchQuery: query,\n        loading: false,\n      }));\n    } catch (error) {\n      this.setState(prevState => ({ ...prevState, error: error }));\n    } finally {\n      this.setState(prevState => ({ ...prevState, loading: false }));\n    }\n  };\n\n  loadMore = async () => {\n    try {\n      this.resetError();\n      const { searchQuery, page } = this.state;\n      // this.setState(prevState => ({ ...prevState, loading: true }));\n      const result = await fetchImagesWithQuery(searchQuery, page);\n      this.setState(prevState => ({\n        ...prevState,\n        images: [...prevState.images, ...result],\n        page: prevState.page + 1,\n      }));\n      if (this.state.page > 2) {\n        this.scrollBy();\n      }\n    } catch (error) {\n      this.setState(prevState => ({ ...prevState, error: error }));\n    } finally {\n      // this.setState(prevState => ({ ...prevState, loading: false }));\n    }\n  };\n\n  resetError = () => {\n    this.setState(prevState => ({ ...prevState, error: '' }));\n  };\n\n  toggleModal = e => {\n    this.setState({\n      largeImageURL: e.target.dataset.url,\n      largeImageAlt: e.target.dataset.url,\n    });\n  };\n\n  closeModalByEsc = e => {\n    if (e.code === 'Escape') {\n      this.setState({ largeImageURL: null });\n    }\n  };\n\n  handleClickInModal = e => {\n    if (e.target.nodeName !== 'IMG') {\n      this.setState({\n        largeImageURL: null,\n      });\n    }\n  };\n\n  // scrollBy = () => {\n  //   window.scrollBy({\n  //     top:\n  //       document.documentElement.clientHeight -\n  //       document.querySelector('.Button').clientHeight -\n  //       document.querySelector('.Searchbar').clientHeight,\n  //     behavior: 'smooth',\n  //   });\n  // };\n\n  render() {\n    const { images, loading, largeImageURL, largeImageAlt } = this.state;\n\n    return (\n      <ImageFinderStyled>\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\n\n        <InfiniteScroll\n          dataLength={images.length}\n          next={this.loadMore}\n          hasMore={true}\n          // scrollThreshold=\"500px\"\n        >\n          {images.length > 0 && (\n            <ImageGallery images={images} onImageClick={this.toggleModal} />\n          )}\n        </InfiniteScroll>\n\n        {largeImageURL && (\n          <Modal\n            imgURL={largeImageURL}\n            imgAlt={largeImageAlt}\n            onHandleClickInModal={this.handleClickInModal}\n          />\n        )}\n\n        {loading && <Spinner />}\n\n        {/* {images.length > 0 && <Button onFetchImages={this.loadMore} />} */}\n      </ImageFinderStyled>\n    );\n  }\n}\n\nexport default ImageFinder;\n","import React from 'react';\nimport ImageFinder from './imageFinder/ImageFinder';\n\nconst App = () => {\n  return <ImageFinder />;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../node_modules/modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}